<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TORNEIO RETRO A.A.A. XVII</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;family=Press+Start+2P&amp;display=swap" rel="stylesheet">
  <style>
            body {
                box-sizing: border-box;
            }
            
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Orbitron', monospace;
                background: #000;
                color: #fff;
                overflow-x: hidden;
                position: relative;
            }

            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 255, 0, 0.03) 2px,
                    rgba(0, 255, 0, 0.03) 4px
                );
                pointer-events: none;
                z-index: 1000;
            }

            @keyframes glitch {
                0% { transform: translate(0); }
                20% { transform: translate(-2px, 2px); }
                40% { transform: translate(-2px, -2px); }
                60% { transform: translate(2px, 2px); }
                80% { transform: translate(2px, -2px); }
                100% { transform: translate(0); }
            }

            @keyframes neon-pulse {
                0%, 100% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 15px #ff00ff; }
                50% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff00ff; }
            }

            @keyframes lightning {
                0%, 90%, 100% { opacity: 0; }
                5%, 85% { opacity: 1; }
            }

            @keyframes scan {
                0% { transform: translateY(0); }
                100% { transform: translateY(150px); }
            }

            .loading-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: #000;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                transition: opacity 0.5s ease;
            }

            .ps2-logo {
                font-family: 'Press Start 2P', monospace;
                font-size: 2rem;
                color: #6a0dad;
                margin-bottom: 2rem;
                animation: neon-pulse 2s infinite;
            }

            .loading-bar {
                width: 300px;
                height: 20px;
                border: 2px solid #6a0dad;
                background: #000;
                position: relative;
                overflow: hidden;
            }

            .loading-fill {
                height: 100%;
                background: linear-gradient(90deg, #6a0dad, #ff00ff);
                width: 0%;
                animation: loading 3s ease-in-out forwards;
            }

            @keyframes loading {
                to { width: 100%; }
            }

            .hero {
                height: 100vh;
                background: linear-gradient(45deg, #000, #1a0033, #000);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                text-align: center;
                position: relative;
                overflow: hidden;
            }

            .hero::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23333" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
                opacity: 0.1;
            }

            .hero-title {
                font-family: 'Press Start 2P', monospace;
                font-size: clamp(2rem, 8vw, 4rem);
                color: #fff;
                text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff;
                margin-bottom: 1rem;
                animation: glitch 0.3s infinite alternate-reverse;
            }

            .hero-subtitle {
                font-size: clamp(1rem, 4vw, 1.5rem);
                color: #ffff00;
                margin-bottom: 2rem;
                text-shadow: 0 0 10px #ffff00;
            }

            .dates-container {
                display: flex;
                gap: 2rem;
                margin-bottom: 3rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .date-card {
                background: linear-gradient(135deg, #6a0dad, #ff00ff);
                padding: 1rem 2rem;
                border-radius: 10px;
                border: 2px solid #ffff00;
                transform: skew(-5deg);
                transition: all 0.3s ease;
            }

            .date-card:hover {
                transform: skew(-5deg) scale(1.1);
                box-shadow: 0 0 20px #ff00ff;
            }

            .date-card span {
                display: block;
                font-weight: bold;
            }

            .cta-button {
                background: linear-gradient(45deg, #ff0000, #ff6600);
                color: #fff;
                padding: 1rem 3rem;
                border: none;
                border-radius: 25px;
                font-family: 'Press Start 2P', monospace;
                font-size: 1rem;
                cursor: pointer;
                text-transform: uppercase;
                transition: all 0.3s ease;
                text-decoration: none;
                display: inline-block;
                position: relative;
                overflow: hidden;
            }

            .cta-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                transition: left 0.5s ease;
            }

            .cta-button:hover::before {
                left: 100%;
            }

            .cta-button:hover {
                transform: scale(1.05);
                box-shadow: 0 0 30px #ff0000;
            }

            .lightning {
                position: absolute;
                width: 2px;
                height: 100px;
                background: linear-gradient(to bottom, #ffff00, transparent);
                animation: lightning 2s infinite;
            }

            .lightning:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
            .lightning:nth-child(2) { top: 60%; right: 15%; animation-delay: 0.5s; }
            .lightning:nth-child(3) { top: 40%; left: 80%; animation-delay: 1s; }

            .games-section {
                padding: 5rem 2rem;
                background: linear-gradient(180deg, #000, #1a0033, #000);
            }

            .section-title {
                font-family: 'Press Start 2P', monospace;
                font-size: clamp(1.5rem, 5vw, 2.5rem);
                text-align: center;
                margin-bottom: 3rem;
                color: #ffff00;
                text-shadow: 0 0 15px #ffff00;
            }

            .games-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 2rem;
                max-width: 1600px;
                margin: 0 auto;
            }

            .game-card {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 15px;
                padding: 2rem;
                text-align: center;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .game-card::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: conic-gradient(from 0deg, transparent, #ff00ff, transparent);
                animation: rotate 4s linear infinite;
                z-index: -1;
            }

            @keyframes rotate {
                to { transform: rotate(360deg); }
            }

            .game-card:hover {
                transform: translateY(-10px);
                box-shadow: 0 20px 40px rgba(255, 0, 255, 0.3);
            }

            .game-title {
                font-family: 'Press Start 2P', monospace;
                font-size: 1.2rem;
                margin-bottom: 1rem;
                color: #ffff00;
            }

            .game-date {
                font-size: 1.1rem;
                color: #ff00ff;
                margin-bottom: 1rem;
                font-weight: bold;
            }

            .game-description {
                color: #ccc;
                line-height: 1.6;
                margin-bottom: 1.5rem;
            }

            .register-section {
                padding: 5rem 2rem;
                background: linear-gradient(135deg, #000, #1a0033, #330066, #000);
                text-align: center;
            }

            .register-container {
                max-width: 600px;
                margin: 0 auto;
            }

            .qr-card {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 20px;
                padding: 3rem;
                position: relative;
                overflow: hidden;
                transition: all 0.3s ease;
            }

            .qr-card::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: conic-gradient(from 0deg, transparent, #ff00ff, transparent);
                animation: rotate 6s linear infinite;
                z-index: -1;
            }

            .qr-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(255, 0, 255, 0.4);
            }

            .password-option {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 15px;
                padding: 1.5rem;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .password-option::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: conic-gradient(from 0deg, transparent, #ff00ff, transparent);
                animation: rotate 4s linear infinite;
                z-index: -1;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .password-option:hover::before {
                opacity: 0.3;
            }

            .password-option:hover {
                transform: translateY(-5px) scale(1.05);
                box-shadow: 0 15px 30px rgba(255, 0, 255, 0.4);
                border-color: #ffff00;
            }

            .password-option.selected {
                border-color: #00ff00;
                background: linear-gradient(135deg, #003300, #006600);
                transform: scale(1.1);
                box-shadow: 0 0 25px rgba(0, 255, 0, 0.5);
            }

            .password-option.selected::before {
                opacity: 0.5;
                background: conic-gradient(from 0deg, transparent, #00ff00, transparent);
            }

            .password-option.wrong {
                border-color: #ff0000;
                background: linear-gradient(135deg, #330000, #660000);
                animation: shake 0.5s ease-in-out;
                box-shadow: 0 0 25px rgba(255, 0, 0, 0.5);
            }

            .password-option.wrong::before {
                opacity: 0.5;
                background: conic-gradient(from 0deg, transparent, #ff0000, transparent);
            }

            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-10px); }
                75% { transform: translateX(10px); }
            }

            .password-status {
                margin-top: 1rem;
                padding: 1rem;
                border-radius: 10px;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.8rem;
                text-align: center;
                display: none;
            }

            .game-selection {
                display: grid;
                gap: 1.5rem;
                margin-bottom: 2rem;
            }

            .game-option {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 15px;
                padding: 1.5rem;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .game-option::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: conic-gradient(from 0deg, transparent, #ff00ff, transparent);
                animation: rotate 4s linear infinite;
                z-index: -1;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .game-option:hover::before {
                opacity: 1;
            }

            .game-option:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 30px rgba(255, 0, 255, 0.4);
                border-color: #ffff00;
            }

            .game-icon {
                font-size: 3rem;
                margin-bottom: 1rem;
            }

            .game-name {
                font-family: 'Press Start 2P', monospace;
                font-size: 1rem;
                color: #ffff00;
                margin-bottom: 0.5rem;
            }

            .game-info {
                color: #ff00ff;
                font-size: 0.9rem;
            }

            .bracket-container {
                max-width: 1400px;
                margin: 0 auto;
            }

            .game-brackets {
                display: grid;
                gap: 3rem;
            }

            .bracket-game {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 20px;
                padding: 2rem;
                position: relative;
                overflow: hidden;
            }

            .bracket-game::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: conic-gradient(from 0deg, transparent, #ff00ff, transparent);
                animation: rotate 8s linear infinite;
                z-index: -1;
                opacity: 0.3;
            }

            .bracket-title {
                font-family: 'Press Start 2P', monospace;
                font-size: 1.5rem;
                color: #ffff00;
                text-align: center;
                margin-bottom: 2rem;
                text-shadow: 0 0 15px #ffff00;
            }

            .bracket-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                min-height: 100px;
            }

            .player-slot {
                background: linear-gradient(45deg, #1a0033, #330066);
                border: 2px solid #6a0dad;
                border-radius: 10px;
                padding: 1rem;
                text-align: center;
                transition: all 0.3s ease;
                position: relative;
            }

            .player-slot.filled {
                border-color: #00ff00;
                background: linear-gradient(45deg, #003300, #006600);
            }

            .player-slot.filled:hover {
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
            }

            .player-name {
                font-family: 'Press Start 2P', monospace;
                font-size: 0.9rem;
                color: #fff;
                margin-bottom: 0.5rem;
            }

            .player-number {
                color: #ffff00;
                font-size: 0.8rem;
            }

            .empty-slot {
                color: #666;
                font-style: italic;
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 60px;
            }

            .dual-sided-bracket {
                display: grid;
                grid-template-columns: 1fr auto 1fr;
                gap: 3rem;
                padding: 2rem;
                min-height: 600px;
                align-items: start;
            }

            .bracket-side {
                display: flex;
                flex-direction: column;
            }

            .left-side {
                justify-self: end;
            }

            .right-side {
                justify-self: start;
            }

            .side-header {
                text-align: center;
                margin-bottom: 2rem;
            }

            .side-title {
                font-family: 'Press Start 2P', monospace;
                color: #ffff00;
                font-size: 1.1rem;
                text-shadow: 0 0 15px #ffff00;
                background: rgba(0, 0, 0, 0.8);
                padding: 1rem 2rem;
                border-radius: 15px;
                border: 3px solid #ffff00;
            }

            .side-rounds {
                display: flex;
                flex-direction: column;
                gap: 3rem;
            }

            .side-round {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

            .round-title-side {
                font-family: 'Press Start 2P', monospace;
                color: #ff00ff;
                font-size: 0.9rem;
                text-align: center;
                text-shadow: 0 0 10px #ff00ff;
                background: rgba(0, 0, 0, 0.6);
                padding: 0.8rem;
                border-radius: 10px;
                border: 2px solid #ff00ff;
                margin-bottom: 1rem;
            }

            .side-matches {
                display: flex;
                flex-direction: column;
                gap: 2rem;
            }

            .side-match {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 3px solid #ff00ff;
                border-radius: 15px;
                padding: 1.5rem;
                transition: all 0.3s ease;
                min-width: 280px;
                max-width: 350px;
            }

            .side-match:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 16px rgba(255, 0, 255, 0.3);
            }

            .side-match.completed {
                border-color: #00ff00;
                background: linear-gradient(135deg, #003300, #006600);
            }

            .side-match-content {
                display: flex;
                flex-direction: column;
                gap: 0.8rem;
            }

            .side-player {
                background: rgba(0, 0, 0, 0.4);
                border: 2px solid #666;
                border-radius: 10px;
                padding: 1rem 1.5rem;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                justify-content: space-between;
                align-items: center;
                min-height: 55px;
            }

            .side-player:hover {
                background: rgba(255, 0, 255, 0.1);
                border-color: #ff00ff;
                transform: scale(1.02);
            }

            .side-player.winner {
                background: linear-gradient(45deg, rgba(0, 255, 0, 0.3), rgba(0, 255, 0, 0.1));
                border-color: #00ff00;
                color: #00ff00;
                font-weight: bold;
                box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
            }

            .side-player.loser {
                background: rgba(255, 0, 0, 0.1);
                border-color: #ff0000;
                color: #ff6666;
                opacity: 0.7;
            }

            .side-player-name {
                font-family: 'Press Start 2P', monospace;
                font-size: 0.8rem;
                color: #fff;
                flex: 1;
                word-break: break-word;
                line-height: 1.2;
            }

            .side-vs {
                text-align: center;
                color: #ffff00;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.9rem;
                padding: 0.8rem;
                background: rgba(255, 255, 0, 0.1);
                border: 2px solid #ffff00;
                border-radius: 10px;
                font-weight: bold;
            }

            .side-match-controls {
                display: flex;
                justify-content: center;
                margin-top: 1rem;
            }

            .reset-btn-tiny {
                background: linear-gradient(45deg, #ff6600, #ff0000);
                color: #fff;
                border: none;
                padding: 0.4rem;
                border-radius: 50%;
                font-size: 0.7rem;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .reset-btn-tiny:hover {
                transform: scale(1.1);
                box-shadow: 0 0 12px rgba(255, 102, 0, 0.5);
            }

            .bracket-center {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                min-width: 350px;
            }

            .final-match {
                background: linear-gradient(135deg, #4a0e6b, #6a0dad);
                border: 4px solid #ffff00;
                border-radius: 20px;
                padding: 2rem;
                transition: all 0.3s ease;
                box-shadow: 0 0 30px rgba(255, 255, 0, 0.3);
            }

            .final-match:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 30px rgba(255, 255, 0, 0.4);
            }

            .final-match.completed {
                border-color: #00ff00;
                background: linear-gradient(135deg, #006600, #00aa00);
                box-shadow: 0 0 40px rgba(0, 255, 0, 0.4);
            }

            .final-header-match {
                text-align: center;
                margin-bottom: 2rem;
            }

            .final-title {
                font-family: 'Press Start 2P', monospace;
                color: #ffff00;
                font-size: 1.3rem;
                text-shadow: 0 0 20px #ffff00;
                animation: neon-pulse 2s infinite;
            }

            .final-match-content {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

            .final-player {
                background: rgba(0, 0, 0, 0.5);
                border: 3px solid #666;
                border-radius: 12px;
                padding: 1.5rem 2rem;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                justify-content: space-between;
                align-items: center;
                min-height: 70px;
            }

            .final-player:hover {
                background: rgba(255, 255, 0, 0.1);
                border-color: #ffff00;
                transform: scale(1.03);
            }

            .final-player.winner {
                background: linear-gradient(45deg, rgba(0, 255, 0, 0.4), rgba(0, 255, 0, 0.2));
                border-color: #00ff00;
                color: #00ff00;
                font-weight: bold;
                box-shadow: 0 0 25px rgba(0, 255, 0, 0.4);
            }

            .final-player.loser {
                background: rgba(255, 0, 0, 0.2);
                border-color: #ff0000;
                color: #ff6666;
                opacity: 0.8;
            }

            .final-player-name {
                font-family: 'Press Start 2P', monospace;
                font-size: 1rem;
                color: #fff;
                flex: 1;
                word-break: break-word;
                line-height: 1.3;
            }

            .final-vs {
                text-align: center;
                color: #ffff00;
                font-family: 'Press Start 2P', monospace;
                font-size: 1.1rem;
                padding: 1rem;
                background: rgba(255, 255, 0, 0.15);
                border: 3px solid #ffff00;
                border-radius: 12px;
                font-weight: bold;
                text-shadow: 0 0 10px #ffff00;
            }

            .final-match-controls {
                display: flex;
                justify-content: center;
                margin-top: 1.5rem;
            }

            .reset-btn-small {
                background: linear-gradient(45deg, #ff6600, #ff0000);
                color: #fff;
                border: none;
                padding: 0.8rem 1.5rem;
                border-radius: 10px;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.7rem;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .reset-btn-small:hover {
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(255, 102, 0, 0.5);
            }

            .single-final-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 3rem;
            }

            .final-header {
                margin-bottom: 3rem;
            }

            .round-title-organized {
                font-family: 'Press Start 2P', monospace;
                color: #ffff00;
                font-size: 1.5rem;
                text-shadow: 0 0 20px #ffff00;
                background: rgba(0, 0, 0, 0.8);
                padding: 1.5rem 3rem;
                border-radius: 15px;
                border: 3px solid #ffff00;
                animation: neon-pulse 2s infinite;
            }

            .crown {
                font-size: 1.4rem;
                animation: bounce 1s infinite;
            }

            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                40% { transform: translateY(-10px); }
                60% { transform: translateY(-5px); }
            }

            .champion-display {
                text-align: center;
                margin: 4rem auto;
                padding: 3rem;
                background: linear-gradient(135deg, #ffd700, #ffaa00);
                border-radius: 25px;
                border: 5px solid #ffff00;
                max-width: 600px;
                position: relative;
                overflow: hidden;
            }

            .champion-crown {
                font-size: 4rem;
                margin-bottom: 1rem;
                animation: bounce 2s infinite;
            }

            .champion-title {
                font-family: 'Press Start 2P', monospace;
                color: #000;
                font-size: 1.8rem;
                margin-bottom: 1rem;
                text-shadow: 2px 2px 0px #fff;
            }

            .champion-name {
                font-family: 'Press Start 2P', monospace;
                color: #000;
                font-size: 2.5rem;
                margin-bottom: 2rem;
                text-shadow: 2px 2px 0px #fff;
            }

            .champion-effects {
                display: flex;
                justify-content: space-around;
                font-size: 2rem;
            }

            .firework {
                animation: firework 2s infinite;
            }

            .firework:nth-child(2) {
                animation-delay: 0.5s;
            }

            .firework:nth-child(3) {
                animation-delay: 1s;
            }

            @keyframes firework {
                0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
                50% { transform: scale(1.5) rotate(180deg); opacity: 0.7; }
            }

            .bracket-controls {
                text-align: center;
                margin-top: 4rem;
                padding: 2rem;
                background: rgba(0, 0, 0, 0.3);
                border-radius: 15px;
                border: 2px solid #666;
            }

            .control-btn {
                background: linear-gradient(45deg, #6a0dad, #ff00ff);
                color: #fff;
                padding: 1rem 2rem;
                border: none;
                border-radius: 10px;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.9rem;
                cursor: pointer;
                transition: all 0.3s ease;
                margin: 0 0.5rem;
            }

            .control-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
            }

            .reset-bracket-btn {
                background: linear-gradient(45deg, #ff0000, #aa0000) !important;
            }

            .regenerate-btn {
                background: linear-gradient(45deg, #ff6600, #ff0000) !important;
            }

            .form-input {
                background: #1a0033;
                border: 2px solid #6a0dad;
                color: #fff;
                padding: 1rem;
                border-radius: 5px;
                font-family: 'Orbitron', monospace;
            }

            .form-input:focus {
                outline: none;
                border-color: #ff00ff;
                box-shadow: 0 0 10px #ff00ff;
            }

            .submit-btn {
                background: linear-gradient(45deg, #6a0dad, #ff00ff);
                color: #fff;
                padding: 1rem;
                border: none;
                border-radius: 5px;
                font-family: 'Press Start 2P', monospace;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .submit-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 0 20px #ff00ff;
            }

            .sponsor-section {
                padding: 4rem 2rem;
                background: linear-gradient(45deg, #000, #330066, #000);
                text-align: center;
            }

            .sponsor-title {
                font-family: 'Press Start 2P', monospace;
                font-size: 2rem;
                color: #ffff00;
                margin-bottom: 2rem;
                text-shadow: 0 0 20px #ffff00;
            }

            .sponsor-card {
                background: linear-gradient(135deg, #ff6600, #ff0000);
                border: 3px solid #ffff00;
                border-radius: 20px;
                padding: 3rem;
                max-width: 600px;
                margin: 0 auto;
                transform: rotate(-2deg);
                transition: all 0.3s ease;
            }

            .sponsor-card:hover {
                transform: rotate(0deg) scale(1.05);
                box-shadow: 0 0 40px #ff6600;
            }

            .sponsor-logo {
                font-family: 'Press Start 2P', monospace;
                font-size: 2.5rem;
                color: #fff;
                margin-bottom: 1rem;
                text-shadow: 0 0 15px #000;
            }

            .footer {
                background: #000;
                padding: 3rem 2rem;
                text-align: center;
                border-top: 3px solid #6a0dad;
            }

            .footer-content {
                max-width: 800px;
                margin: 0 auto;
            }

            .admin-tab.active {
                background: linear-gradient(45deg, #6a0dad, #ff00ff) !important;
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
            }

            .bracket-game-btn.active {
                background: linear-gradient(45deg, #ff0000, #aa0000) !important;
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            }

            .bracket-round {
                display: flex;
                flex-direction: column;
                gap: 2rem;
                min-width: 250px;
            }

            .bracket-match {
                background: linear-gradient(135deg, #2a0845, #4a0e6b);
                border: 2px solid #ff00ff;
                border-radius: 15px;
                padding: 1rem;
                position: relative;
                transition: all 0.3s ease;
            }

            .bracket-match:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(255, 0, 255, 0.3);
            }

            .bracket-match.completed {
                border-color: #00ff00;
                background: linear-gradient(135deg, #003300, #006600);
            }

            .bracket-player {
                background: rgba(0, 0, 0, 0.3);
                border: 1px solid #666;
                border-radius: 8px;
                padding: 0.8rem;
                margin-bottom: 0.5rem;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .bracket-player:last-child {
                margin-bottom: 0;
            }

            .bracket-player:hover {
                background: rgba(255, 0, 255, 0.1);
                border-color: #ff00ff;
            }

            .bracket-player.winner {
                background: linear-gradient(45deg, rgba(0, 255, 0, 0.2), rgba(0, 255, 0, 0.1));
                border-color: #00ff00;
                color: #00ff00;
                font-weight: bold;
            }

            .bracket-player.loser {
                background: rgba(255, 0, 0, 0.1);
                border-color: #ff0000;
                color: #ff6666;
                opacity: 0.7;
            }

            .bracket-vs {
                text-align: center;
                color: #ffff00;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.8rem;
                margin: 0.5rem 0;
                display: flex;
                align-items: center;
                justify-content: center;
                height: 40px;
                background: rgba(255, 255, 0, 0.1);
                border: 1px solid #ffff00;
                border-radius: 8px;
                position: relative;
            }

            .bracket-container-admin {
                display: flex;
                gap: 3rem;
                overflow-x: auto;
                padding: 2rem;
                min-height: 400px;
            }

            .round-title {
                font-family: 'Press Start 2P', monospace;
                color: #ffff00;
                text-align: center;
                margin-bottom: 2rem;
                font-size: 1rem;
                text-shadow: 0 0 10px #ffff00;
            }

            .match-actions {
                display: flex;
                gap: 0.5rem;
                margin-top: 1rem;
            }

            .winner-btn {
                background: linear-gradient(45deg, #00ff00, #006600);
                color: #fff;
                border: none;
                padding: 0.5rem 1rem;
                border-radius: 5px;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.7rem;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .winner-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
            }

            .reset-match-btn {
                background: linear-gradient(45deg, #ff6600, #ff0000);
                color: #fff;
                border: none;
                padding: 0.5rem 1rem;
                border-radius: 5px;
                font-family: 'Press Start 2P', monospace;
                font-size: 0.7rem;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .reset-match-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 0 15px rgba(255, 102, 0, 0.5);
            }

            .bracket-empty {
                text-align: center;
                color: #666;
                font-style: italic;
                padding: 3rem;
                background: rgba(0, 0, 0, 0.3);
                border: 2px dashed #666;
                border-radius: 15px;
            }

            @media (max-width: 768px) {
                .dates-container {
                    flex-direction: column;
                    align-items: center;
                }
                
                .games-grid {
                    grid-template-columns: 1fr;
                }
                
                .hero-title {
                    font-size: 2rem;
                }

                .bracket-grid {
                    grid-template-columns: 1fr;
                }

                .game-selection {
                    grid-template-columns: 1fr;
                }

                .qr-scanner-container {
                    max-width: 250px;
                }

                .scanner-overlay {
                    width: 120px;
                    height: 120px;
                }

                .bracket-container-admin {
                    flex-direction: column;
                    gap: 2rem;
                }

                .bracket-round {
                    min-width: auto;
                }

                .dual-sided-bracket {
                    grid-template-columns: 1fr;
                    grid-template-rows: auto auto auto;
                    gap: 2rem;
                    padding: 1rem;
                }

                .left-side {
                    justify-self: center;
                    order: 1;
                }

                .bracket-center {
                    order: 2;
                    min-width: 100%;
                }

                .right-side {
                    justify-self: center;
                    order: 3;
                }

                .side-match {
                    min-width: 100%;
                    max-width: 100%;
                }

                .side-title {
                    font-size: 0.9rem;
                    padding: 0.8rem 1.5rem;
                }

                .round-title-side {
                    font-size: 0.8rem;
                    padding: 0.6rem;
                }

                .side-player-name {
                    font-size: 0.7rem;
                }

                .final-title {
                    font-size: 1rem;
                }

                .final-player-name {
                    font-size: 0.8rem;
                }

                .final-vs {
                    font-size: 0.9rem;
                    padding: 0.8rem;
                }

                .single-final-container {
                    padding: 2rem 1rem;
                }

                .round-title-organized {
                    font-size: 1.2rem;
                    padding: 1rem 2rem;
                }

                .champion-name {
                    font-size: 1.8rem;
                }

                .champion-title {
                    font-size: 1.2rem;
                }

                .control-btn {
                    font-size: 0.7rem;
                    padding: 0.8rem 1.5rem;
                    margin: 0.5rem;
                }
            }
        </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="loading-screen" id="loadingScreen">
   <div class="ps2-logo">
    PLAYSTATION 2
   </div>
   <div class="loading-bar">
    <div class="loading-fill"></div>
   </div>
  </div>
  <section class="hero">
   <div class="lightning"></div>
   <div class="lightning"></div>
   <div class="lightning"></div>
   <h1 class="hero-title">TORNEIO RETRO A.A.A. XVII</h1>
   <p class="hero-subtitle">CHOOSE YOUR DESTINY</p>
   <div class="dates-container">
    <div class="date-card">
     <span>29/10</span>
     <span>MORTAL KOMBAT</span>
    </div>
    <div class="date-card">
     <span>30/10</span>
     <span>BOMBA PATCH</span>
    </div>
    <div class="date-card">
     <span>31/10</span>
     <span>GUITAR HERO III</span>
    </div>
   </div>
   <a href="#register" class="cta-button">saiba mais</a>
  </section>
  <section class="games-section" id="games">
   <h2 class="section-title">JOGOS EM DESTAQUE</h2>
   <div class="games-grid">
    <div class="game-card">
     <h3 class="game-title">MORTAL KOMBAT: ARMAGEDDON</h3>
     <div class="game-date">
      29 DE OUTUBRO
     </div>
     <p class="game-description">Prepare-se para o combate definitivo! Escolha seu lutador favorito e domine os movimentos fatais neste cl√°ssico da luta.</p>
     <div style="font-family: 'Press Start 2P', monospace; color: #ff0000; font-size: 0.8rem;">
      FINISH HIM!
     </div>
    </div>
    <div class="game-card">
     <h3 class="game-title">BOMBA PATCH</h3>
     <div class="game-date">
      30 DE OUTUBRO
     </div>
     <p class="game-description">O futebol brasileiro como voc√™ nunca viu! Mostre suas habilidades no gramado com os times e jogadores mais ic√¥nicos.</p>
     <div style="font-family: 'Press Start 2P', monospace; color: #00ff00; font-size: 0.8rem;">
      GOOOOOL!
     </div>
    </div>
    <div class="game-card">
     <h3 class="game-title">GUITAR HERO III: LEGENDS OF ROCK</h3>
     <div class="game-date">
      31 DE OUTUBRO
     </div>
     <p class="game-description">Toque como uma lenda do rock! Domine os solos mais √©picos e prove que voc√™ tem o que √© preciso para ser uma estrela.</p>
     <div style="font-family: 'Press Start 2P', monospace; color: #ffff00; font-size: 0.8rem;">
      GET READY TO ROCK!
     </div>
    </div>
   </div>
  </section>
  <section class="register-section" id="register">
   <h2 class="section-title"> Informa√ß√µe sobre o evento </h2>

    <!-- choro e livre  -->
   
    <h1>Horario de inicio 19:00 local  ultra coffe dentro do campus </h1>
    <h2>Para participar , voc√™ precisa comprar uma bebida do cardapio + 10 reias para inscri√ß√£o podendo participar dos 3 dias de jogo</h2>

    <div>
    <h1 class="section-title">Regras do Torneio</h1>
    <h2 class"<section>Proibido n√£o se divertir</section></h2>
    
    </div>
    <div class="register-container">
    <div class="qr-card" id="successStep" style="display: none;">
     <h3 style="font-family: 'Press Start 2P', monospace; color: #00ff00; margin-bottom: 2rem; font-size: 1.2rem;">CADASTRO REALIZADO!</h3>
     <div id="playerInfo" style="margin-bottom: 2rem;">
     </div>
     <button onclick="viewBracket()" class="submit-btn" style="margin-bottom: 1rem;">
      VER CHAVEAMENTO
     </button>
     <div style="color: #ccc; font-size: 0.9rem;">
      <p>
       üéÆ Voc√™ est√° registrado! Boa sorte no torneio!
      </p>
     </div>
    </div>
   </div>
  </section>
  <section class="bracket-section" id="bracket" style="display: none; padding: 5rem 2rem; background: linear-gradient(135deg, #000, #1a0033, #330066, #000);">
   <h2 class="section-title">CHAVEAMENTO DO TORNEIO</h2>
   <div class="bracket-container">
    <div class="game-brackets">
     <div class="bracket-game">
      <h3 class="bracket-title">ü•ä MORTAL KOMBAT - 29/10</h3>
      <div class="bracket-grid" id="mk-bracket">
      </div>
     </div>
     <div class="bracket-game">
      <h3 class="bracket-title">‚öΩ BOMBA PATCH - 30/10</h3>
      <div class="bracket-grid" id="bp-bracket">
      </div>
     </div>
     <div class="bracket-game">
      <h3 class="bracket-title">üé∏ GUITAR HERO III - 31/10</h3>
      <div class="bracket-grid" id="gh-bracket">
      </div>
     </div>
    </div>
   </div>
   <div style="text-align: center; margin-top: 3rem;">
    <button onclick="backToRegister()" class="submit-btn">
     VOLTAR AO CADASTRO
    </button>
   </div>
  </section>
  <section class="sponsor-section">
   <h2 class="sponsor-title">POWER-UP PATROCINADOR</h2>
   <div class="sponsor-card">
    <div class="sponsor-logo">
     ULTRA COFFEE
    </div>
    <p style="color: #fff; font-size: 1.2rem; margin-bottom: 1rem;">
     O combust√≠vel dos verdadeiros gamers!
    </p>
    <div style="font-family: 'Press Start 2P', monospace; color: #ffff00; font-size: 1rem;">
     TURBO MODE ACTIVATED!
    </div>
   </div>
  </section>
  <section class="admin-section" id="admin" style="display: none; padding: 5rem 2rem; background: linear-gradient(135deg, #000, #330000, #660000, #000);">
   <h2 class="section-title" style="color: #ff6600;">üëë PAINEL ADMINISTRATIVO</h2>
   <div class="admin-container" style="max-width: 1200px; margin: 0 auto;">
    <div class="admin-login" id="adminLogin">
     <div class="qr-card" style="border-color: #ff6600; max-width: 500px; margin: 0 auto;">
      <h3 style="font-family: 'Press Start 2P', monospace; color: #ff6600; margin-bottom: 2rem; font-size: 1.2rem;">üîê ACESSO RESTRITO</h3>
      <form onsubmit="adminLogin(event)" style="display: flex; flex-direction: column; gap: 1.5rem;">
       <input type="password" id="adminPassword" class="form-input" placeholder="DIGITE A SENHA SECRETA" required style="font-size: 1.2rem; text-align: center; border-color: #ff6600;">
       <button type="submit" class="submit-btn" style="background: linear-gradient(45deg, #ff6600, #ff0000);">
        ENTRAR NO PAINEL
       </button>
      </form>
      <div style="margin-top: 2rem; color: #ff6600; font-size: 0.9rem;">
       <p>
        ‚ö†Ô∏è Apenas administradores autorizados
       </p>
      </div>
     </div>
    </div>
    <div class="admin-panel" id="adminPanel" style="display: none;">
     <div style="display: flex; gap: 1rem; margin-bottom: 3rem; justify-content: center; flex-wrap: wrap;">
      <button onclick="showAdminTab('players')" id="playersTab" class="admin-tab active" style="background: linear-gradient(45deg, #6a0dad, #ff00ff); color: #fff; padding: 1rem 2rem; border: none; border-radius: 10px; font-family: 'Press Start 2P', monospace; font-size: 0.8rem; cursor: pointer; transition: all 0.3s ease;">
       üë• GERENCIAR JOGADORES
      </button>
      <button onclick="showAdminTab('brackets')" id="bracketsTab" class="admin-tab" style="background: linear-gradient(45deg, #333, #666); color: #fff; padding: 1rem 2rem; border: none; border-radius: 10px; font-family: 'Press Start 2P', monospace; font-size: 0.8rem; cursor: pointer; transition: all 0.3s ease;">
       üèÜ CHAVEAMENTO MATA-MATA
      </button>
     </div>
     <div id="playersManagement" class="admin-tab-content">
      <div class="admin-games" style="display: grid; gap: 3rem;">
       <div class="admin-game-card" style="background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff6600; border-radius: 20px; padding: 2rem;">
        <h3 style="font-family: 'Press Start 2P', monospace; color: #ffff00; margin-bottom: 2rem; font-size: 1.2rem;">ü•ä MORTAL KOMBAT - FASES</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
         <div>
          <h4 style="color: #ff00ff; margin-bottom: 1rem; font-size: 1rem;">JOGADORES INSCRITOS:</h4>
          <div id="mk-players-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px;">
          </div>
         </div>
         <div>
          <h4 style="color: #00ff00; margin-bottom: 1rem; font-size: 1rem;">CLASSIFICADOS:</h4>
          <div id="mk-winners-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px; margin-bottom: 1rem;">
          </div>
          <form onsubmit="addWinner(event, 'mortal-kombat')" style="display: flex; gap: 0.5rem;">
           <input type="text" placeholder="Nome do classificado" class="form-input" style="flex: 1; font-size: 0.9rem;" required>
           <button type="submit" class="submit-btn" style="padding: 0.5rem; font-size: 0.8rem;">
            +
           </button>
          </form>
          <div style="margin-top: 1rem;">
           <button onclick="generateBracket('mortal-kombat')" class="submit-btn" style="width: 100%; background: linear-gradient(45deg, #ff6600, #ff0000); font-size: 0.8rem;">
            üèÜ GERAR CHAVEAMENTO
           </button>
          </div>
         </div>
        </div>
       </div>
       <div class="admin-game-card" style="background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff6600; border-radius: 20px; padding: 2rem;">
        <h3 style="font-family: 'Press Start 2P', monospace; color: #ffff00; margin-bottom: 2rem; font-size: 1.2rem;">‚öΩ BOMBA PATCH - FASES</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
         <div>
          <h4 style="color: #ff00ff; margin-bottom: 1rem; font-size: 1rem;">JOGADORES INSCRITOS:</h4>
          <div id="bp-players-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px;">
          </div>
         </div>
         <div>
          <h4 style="color: #00ff00; margin-bottom: 1rem; font-size: 1rem;">CLASSIFICADOS:</h4>
          <div id="bp-winners-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px; margin-bottom: 1rem;">
          </div>
          <form onsubmit="addWinner(event, 'bomba-patch')" style="display: flex; gap: 0.5rem;">
           <input type="text" placeholder="Nome do classificado" class="form-input" style="flex: 1; font-size: 0.9rem;" required>
           <button type="submit" class="submit-btn" style="padding: 0.5rem; font-size: 0.8rem;">
            +
           </button>
          </form>
          <div style="margin-top: 1rem;">
           <button onclick="generateBracket('bomba-patch')" class="submit-btn" style="width: 100%; background: linear-gradient(45deg, #ff6600, #ff0000); font-size: 0.8rem;">
            üèÜ GERAR CHAVEAMENTO
           </button>
          </div>
         </div>
        </div>
       </div>
       <div class="admin-game-card" style="background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff6600; border-radius: 20px; padding: 2rem;">
        <h3 style="font-family: 'Press Start 2P', monospace; color: #ffff00; margin-bottom: 2rem; font-size: 1.2rem;">üé∏ GUITAR HERO III - FASES</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
         <div>
          <h4 style="color: #ff00ff; margin-bottom: 1rem; font-size: 1rem;">JOGADORES INSCRITOS:</h4>
          <div id="gh-players-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px;">
          </div>
         </div>
         <div>
          <h4 style="color: #00ff00; margin-bottom: 1rem; font-size: 1rem;">CLASSIFICADOS:</h4>
          <div id="gh-winners-list" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 10px; margin-bottom: 1rem;">
          </div>
          <form onsubmit="addWinner(event, 'guitar-hero')" style="display: flex; gap: 0.5rem;">
           <input type="text" placeholder="Nome do classificado" class="form-input" style="flex: 1; font-size: 0.9rem;" required>
           <button type="submit" class="submit-btn" style="padding: 0.5rem; font-size: 0.8rem;">
            +
           </button>
          </form>
          <div style="margin-top: 1rem;">
           <button onclick="generateBracket('guitar-hero')" class="submit-btn" style="width: 100%; background: linear-gradient(45deg, #ff6600, #ff0000); font-size: 0.8rem;">
            üèÜ GERAR CHAVEAMENTO
           </button>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div id="bracketsManagement" class="admin-tab-content" style="display: none;">
      <div style="display: flex; gap: 1rem; margin-bottom: 3rem; justify-content: center; flex-wrap: wrap;">
       <button onclick="showBracketGame('mortal-kombat')" id="mkBracketBtn" class="bracket-game-btn active" style="background: linear-gradient(45deg, #ff0000, #aa0000); color: #fff; padding: 1rem 2rem; border: none; border-radius: 10px; font-family: 'Press Start 2P', monospace; font-size: 0.8rem; cursor: pointer; transition: all 0.3s ease;">
        ü•ä MORTAL KOMBAT
       </button>
       <button onclick="showBracketGame('bomba-patch')" id="bpBracketBtn" class="bracket-game-btn" style="background: linear-gradient(45deg, #333, #666); color: #fff; padding: 1rem 2rem; border: none; border-radius: 10px; font-family: 'Press Start 2P', monospace; font-size: 0.8rem; cursor: pointer; transition: all 0.3s ease;">
        ‚öΩ BOMBA PATCH
       </button>
       <button onclick="showBracketGame('guitar-hero')" id="ghBracketBtn" class="bracket-game-btn" style="background: linear-gradient(45deg, #333, #666); color: #fff; padding: 1rem 2rem; border: none; border-radius: 10px; font-family: 'Press Start 2P', monospace; font-size: 0.8rem; cursor: pointer; transition: all 0.3s ease;">
        üé∏ GUITAR HERO III
       </button>
      </div>
      <div id="mk-bracket-admin" class="bracket-admin-container">
       <div id="mk-bracket-content"></div>
      </div>
      <div id="bp-bracket-admin" class="bracket-admin-container" style="display: none;">
       <div id="bp-bracket-content"></div>
      </div>
      <div id="gh-bracket-admin" class="bracket-admin-container" style="display: none;">
       <div id="gh-bracket-content"></div>
      </div>
     </div>
     <div style="text-align: center; margin-top: 3rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
      <button onclick="showPasswordManager()" class="submit-btn" style="background: linear-gradient(45deg, #6a0dad, #ff00ff);">
       üîê GERENCIAR SENHA VISUAL
      </button>
      <button onclick="clearAllWinners()" class="submit-btn" style="background: linear-gradient(45deg, #ff0000, #aa0000);">
       üóëÔ∏è LIMPAR TUDO (TESTE)
      </button>
      <button onclick="exportData()" class="submit-btn" style="background: linear-gradient(45deg, #00aa00, #006600);">
       üìä EXPORTAR DADOS
      </button>
      <button onclick="closeAdmin()" class="submit-btn" style="background: linear-gradient(45deg, #666, #333);">
       üö™ SAIR DO PAINEL
      </button>
     </div>
    </div>
   </div>
  </section>
  <footer class="footer">
   <div class="footer-content">
    <div style="display: flex; justify-content: center; gap: 3rem; flex-wrap: wrap; margin-bottom: 2rem;">
     <a href="https://www.instagram.com/carlos_eduardoferrer?igsh=d3hia2VvaGU4MHgy&amp;utm_source=qr" target="_blank" rel="noopener noreferrer" style="color: #ff00ff; text-decoration: none; font-family: 'Press Start 2P', monospace; font-size: 1rem; transition: all 0.3s ease;" onmouseover="this.style.color='#ffff00'; this.style.textShadow='0 0 15px #ffff00'" onmouseout="this.style.color='#ff00ff'; this.style.textShadow='none'">
      üì± @CARLOS_EDUARDOFERRER
     </a>
     <a href="https://www.instagram.com/ultracoffeelondrina?igsh=MWd2bnNuZHZqZWdvbw==" target="_blank" rel="noopener noreferrer" style="color: #ff6600; text-decoration: none; font-family: 'Press Start 2P', monospace; font-size: 1rem; transition: all 0.3s ease;" onmouseover="this.style.color='#ffff00'; this.style.textShadow='0 0 15px #ffff00'" onmouseout="this.style.color='#ff6600'; this.style.textShadow='none'">
      ‚òï @ULTRACOFFEELONDRINA
     </a>
    </div>
    <div style="text-align: center; margin-bottom: 2rem;">
     <button onclick="toggleAdmin()" style="background: none; border: none; font-size: 2rem; cursor: pointer; opacity: 0.3; transition: all 0.3s ease;" onmouseover="this.style.opacity='1'; this.style.transform='scale(1.2)'" onmouseout="this.style.opacity='0.3'; this.style.transform='scale(1)'">
      üëë
     </button>
    </div>
    <div style="text-align: center; color: #666; font-size: 0.8rem; border-top: 1px solid #333; padding-top: 2rem;">
     <p>
      üéÆ TORNEIO RETRO A.A.A. XVII - 2025
     </p>
    </div>
   </div>
  </footer>
  <script>
        const ADMIN_PASSWORD = 'DUDS REI DAS GOTICAS';
        const STORAGE_KEY = 'torneioRetroAAAXVII_Data_V2';
        const PASSWORD_KEY = 'tournamentPassword_V2';
        
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 500);
            }, 3000);
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        let tournamentData = {
            players: {
                'mortal-kombat': [],
                'bomba-patch': [],
                'guitar-hero': []
            },
            brackets: {
                'mortal-kombat': null,
                'bomba-patch': null,
                'guitar-hero': null
            },
            winners: {
                'mortal-kombat': [],
                'bomba-patch': [],
                'guitar-hero': []
            },
            currentPlayer: {
                name: '',
                game: ''
            }
        };

        let currentBracketGame = 'mortal-kombat';
        let currentAdminTab = 'players';

        let isAdminLoggedIn = false;

        let currentPasswordImage = '‚òï';
        let currentPasswordName = 'X√çCARA';
        let selectedPasswordImage = null;
        
        const passwordImages = {
            '‚òï': 'X√çCARA',
            'üéÆ': 'CONTROLE',
            '‚öΩ': 'BOLA',
            'üèÜ': 'TROF√âU'
        };

        function loadPasswordImage() {
            const saved = localStorage.getItem(PASSWORD_KEY);
            if (saved) {
                const passwordData = JSON.parse(saved);
                currentPasswordImage = passwordData.image;
                currentPasswordName = passwordData.name;
            }
        }

        function savePasswordImage() {
            const passwordData = {
                image: currentPasswordImage,
                name: currentPasswordName
            };
            localStorage.setItem(PASSWORD_KEY, JSON.stringify(passwordData));
        }

        function selectPasswordImage(image, name) {
            selectedPasswordImage = image;
            
            document.querySelectorAll('.password-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            const selectedOption = document.querySelector(`[data-image="${image}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
            }
        }

        function validatePasswordImage() {
            if (!selectedPasswordImage) {
                showPasswordStatus('SELECIONE UMA IMAGEM!', 'error');
                return;
            }
            
            if (selectedPasswordImage === currentPasswordImage) {
                showPasswordStatus('SENHA CORRETA! ACESSO LIBERADO!', 'success');
                
                if (navigator.vibrate) {
                    navigator.vibrate([200, 100, 200]);
                }

                setTimeout(() => {
                    document.getElementById('passwordStep').style.display = 'none';
                    document.getElementById('nameStep').style.display = 'block';
                }, 2000);

            } else {
                showPasswordStatus('SENHA INCORRETA! TENTE NOVAMENTE', 'error');
                
                document.querySelectorAll('.password-option').forEach(option => {
                    if (option.dataset.image === selectedPasswordImage) {
                        option.classList.add('wrong');
                        setTimeout(() => {
                            option.classList.remove('wrong', 'selected');
                        }, 1000);
                    }
                });
                
                selectedPasswordImage = null;
            }
        }

        function showPasswordStatus(message, type) {
            let status = document.querySelector('.password-status');
            if (!status) {
                status = document.createElement('div');
                status.className = 'password-status';
                document.getElementById('passwordStep').appendChild(status);
            }
            
            status.style.display = 'block';
            status.textContent = message;
            
            switch(type) {
                case 'success':
                    status.style.background = 'rgba(0, 255, 0, 0.2)';
                    status.style.border = '2px solid #00ff00';
                    status.style.color = '#00ff00';
                    break;
                case 'error':
                    status.style.background = 'rgba(255, 0, 0, 0.2)';
                    status.style.border = '2px solid #ff0000';
                    status.style.color = '#ff0000';
                    break;
            }
            
            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }

        function loadTournamentData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                tournamentData = JSON.parse(saved);
                tournamentData.winners = tournamentData.winners || { 'mortal-kombat': [], 'bomba-patch': [], 'guitar-hero': [] };
                updateAllBrackets();
            }
        }

        function saveTournamentData() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(tournamentData));
        }
        
        function injectTestData() {
            const testWinnersMK = ['SUBZERO', 'SCORPION', 'LIU KANG', 'KUNG LAO', 'SHANG TSUNG'];
            const testWinnersBP = ['PELE', 'ZICO', 'ROM√ÅRIO', 'RONALDO'];
            const testWinnersGH = ['SLASH', 'JIMMY PAGE', 'DUDS'];

            tournamentData.winners['mortal-kombat'] = testWinnersMK;
            tournamentData.winners['bomba-patch'] = testWinnersBP;
            tournamentData.winners['guitar-hero'] = testWinnersGH;

            tournamentData.brackets['mortal-kombat'] = createBracketStructure(testWinnersMK);
            tournamentData.brackets['bomba-patch'] = createBracketStructure(testWinnersBP);
            tournamentData.brackets['guitar-hero'] = createBracketStructure(testWinnersGH);

            saveTournamentData();
        }


        function submitName(event) {
            event.preventDefault();
            const name = document.getElementById('playerName').value.trim().toUpperCase();
            
            if (name) {
                tournamentData.currentPlayer.name = name;
                document.getElementById('nameStep').style.display = 'none';
                document.getElementById('gameStep').style.display = 'block';
            }
        }

        function selectGame(gameId) {
            tournamentData.currentPlayer.game = gameId;
            
            const playerNumber = tournamentData.players[gameId].length + 1;
            tournamentData.players[gameId].push({
                name: tournamentData.currentPlayer.name,
                number: playerNumber,
                registeredAt: new Date().toLocaleString('pt-BR')
            });
            
            saveTournamentData();
            
            showSuccessScreen();
            
            updateAllBrackets();
        }

        function showSuccessScreen() {
            const gameNames = {
                'mortal-kombat': 'MORTAL KOMBAT',
                'bomba-patch': 'BOMBA PATCH',
                'guitar-hero': 'GUITAR HERO III'
            };
            
            const playerInfo = document.getElementById('playerInfo');
            playerInfo.innerHTML = `
                <div style="background: linear-gradient(45deg, #003300, #006600); border: 2px solid #00ff00; border-radius: 15px; padding: 2rem; margin-bottom: 2rem;">
                    <div style="font-family: 'Press Start 2P', monospace; color: #00ff00; font-size: 1.2rem; margin-bottom: 1rem;">
                        ${tournamentData.currentPlayer.name}
                    </div>
                    <div style="color: #ffff00; font-size: 1rem; margin-bottom: 0.5rem;">
                        ${gameNames[tournamentData.currentPlayer.game]}
                    </div>
                    <div style="color: #ccc; font-size: 0.8rem;">
                        Jogador #${tournamentData.players[tournamentData.currentPlayer.game].length}
                    </div>
                </div>
            `;
            
            document.getElementById('gameStep').style.display = 'none';
            document.getElementById('successStep').style.display = 'block';
        }

        function viewBracket() {
            document.getElementById('register').style.display = 'none';
            document.getElementById('bracket').style.display = 'block';
            updateAllBrackets();
            document.getElementById('bracket').scrollIntoView({ behavior: 'smooth' });
        }

        function backToRegister() {
            document.getElementById('bracket').style.display = 'none';
            document.getElementById('register').style.display = 'block';
            
            document.getElementById('successStep').style.display = 'none';
            document.getElementById('passwordStep').style.display = 'block';
            document.getElementById('playerName').value = '';
            selectedPasswordImage = null;
            
            document.querySelectorAll('.password-option').forEach(option => {
                option.classList.remove('selected', 'wrong');
            });
            
            tournamentData.currentPlayer = { name: '', game: '' };
        }

        function updateAllBrackets() {
            const gameIds = ['mortal-kombat', 'bomba-patch', 'guitar-hero'];
            const containerIds = ['mk-bracket', 'bp-bracket', 'gh-bracket'];
            
            gameIds.forEach((gameId, index) => {
                const container = document.getElementById(containerIds[index]);
                
                if (tournamentData.brackets[gameId]) {
                    container.innerHTML = `
                        <div class="empty-slot" style="min-height: 150px; border: 2px dashed #ffff00; color: #ffff00;">
                            <h4 style="font-family: 'Press Start 2P', monospace; font-size: 0.9rem;">
                                CHAVEAMENTO MATA-MATA ATIVO!
                            </h4>
                            <p style="font-size: 0.8rem; margin-top: 0.5rem;">
                                Acompanhe no painel de transmiss√£o.
                            </p>
                        </div>
                    `;
                } else {
                    const players = tournamentData.players[gameId];
                    container.innerHTML = '';
                    
                    if (players.length === 0) {
                        container.innerHTML = '<div class="empty-slot">Nenhum jogador cadastrado ainda</div>';
                    } else {
                        players.forEach(player => {
                            const playerSlot = document.createElement('div');
                            playerSlot.className = 'player-slot filled';
                            playerSlot.innerHTML = `
                                <div class="player-name">${player.name}</div>
                                <div class="player-number">Jogador #${player.number}</div>
                            `;
                            container.appendChild(playerSlot);
                        });
                    }
                }
            });
        }

        function toggleAdmin() {
            const adminSection = document.getElementById('admin');
            if (adminSection.style.display === 'none') {
                adminSection.style.display = 'block';
                adminSection.scrollIntoView({ behavior: 'smooth' });
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('adminPanel').style.display = 'none';
            } else {
                adminSection.style.display = 'none';
                isAdminLoggedIn = false;
            }
        }

        function adminLogin(event) {
            event.preventDefault();
            const password = document.getElementById('adminPassword').value;
            
            if (password === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadAdminData();
                showAdminTab('players');
                
                const successMsg = document.createElement('div');
                successMsg.style.cssText = 'position: fixed; top: 20px; right: 20px; background: linear-gradient(45deg, #00ff00, #006600); color: #fff; padding: 1rem; border-radius: 10px; font-family: "Press Start 2P", monospace; font-size: 0.8rem; z-index: 10000;';
                successMsg.textContent = 'ACESSO LIBERADO!';
                document.body.appendChild(successMsg);
                
                setTimeout(() => {
                    document.body.removeChild(successMsg);
                }, 3000);
                
            } else {
                const errorMsg = document.createElement('div');
                errorMsg.style.cssText = 'position: fixed; top: 20px; right: 20px; background: linear-gradient(45deg, #ff0000, #aa0000); color: #fff; padding: 1rem; border-radius: 10px; font-family: "Press Start 2P", monospace; font-size: 0.8rem; z-index: 10000;';
                errorMsg.textContent = 'SENHA INCORRETA!';
                document.body.appendChild(errorMsg);
                
                setTimeout(() => {
                    document.body.removeChild(errorMsg);
                }, 3000);
                
                document.getElementById('adminPassword').value = '';
            }
        }

        function showAdminTab(tab) {
            currentAdminTab = tab;
            
            document.querySelectorAll('.admin-tab').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'linear-gradient(45deg, #333, #666)';
            });
            
            if (tab === 'players') {
                document.getElementById('playersTab').classList.add('active');
                document.getElementById('playersManagement').style.display = 'block';
                document.getElementById('bracketsManagement').style.display = 'none';
                document.getElementById('playersTab').style.background = 'linear-gradient(45deg, #6a0dad, #ff00ff)';
            } else if (tab === 'brackets') {
                document.getElementById('bracketsTab').classList.add('active');
                document.getElementById('playersManagement').style.display = 'none';
                document.getElementById('bracketsManagement').style.display = 'block';
                document.getElementById('bracketsTab').style.background = 'linear-gradient(45deg, #6a0dad, #ff00ff)';
                showBracketGame(currentBracketGame);
            }
        }

        function showBracketGame(gameId) {
            currentBracketGame = gameId;
            
            document.querySelectorAll('.bracket-game-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'linear-gradient(45deg, #333, #666)';
            });
            
            document.querySelectorAll('.bracket-admin-container').forEach(container => {
                container.style.display = 'none';
            });
            
            const gameButtons = {
                'mortal-kombat': 'mkBracketBtn',
                'bomba-patch': 'bpBracketBtn',
                'guitar-hero': 'ghBracketBtn'
            };
            
            const gameContainers = {
                'mortal-kombat': 'mk-bracket-admin',
                'bomba-patch': 'bp-bracket-admin',
                'guitar-hero': 'gh-bracket-admin'
            };
            
            document.getElementById(gameButtons[gameId]).classList.add('active');
            document.getElementById(gameButtons[gameId]).style.background = 'linear-gradient(45deg, #ff0000, #aa0000)';
            document.getElementById(gameContainers[gameId]).style.display = 'block';
            
            loadBracketView();
        }

        function loadAdminData() {
            const gameIds = ['mortal-kombat', 'bomba-patch', 'guitar-hero'];
            const listIds = ['mk-players-list', 'bp-players-list', 'gh-players-list'];
            const winnerIds = ['mk-winners-list', 'bp-winners-list', 'gh-winners-list'];
            
            gameIds.forEach((gameId, index) => {
                const playersList = document.getElementById(listIds[index]);
                const players = tournamentData.players[gameId];
                
                if (playersList) {
                    if (players.length === 0) {
                        playersList.innerHTML = '<div style="color: #666; font-style: italic;">Nenhum jogador cadastrado</div>';
                    } else {
                        playersList.innerHTML = players.map(player => 
                            `<div style="background: rgba(255,0,255,0.1); border: 1px solid #ff00ff; border-radius: 5px; padding: 0.5rem; margin-bottom: 0.5rem;">
                                <div style="color: #fff; font-weight: bold;">${player.name}</div>
                                <div style="color: #ccc; font-size: 0.8rem;">Jogador #${player.number}</div>
                            </div>`
                        ).join('');
                    }
                }
                
                const winnersList = document.getElementById(winnerIds[index]);
                const winners = tournamentData.winners[gameId] || [];
                
                if (winnersList) {
                    if (winners.length === 0) {
                        winnersList.innerHTML = '<div style="color: #666; font-style: italic;">Nenhum classificado ainda</div>';
                    } else {
                        winnersList.innerHTML = winners.map((winner, idx) => 
                            `<div style="background: rgba(0,255,0,0.1); border: 1px solid #00ff00; border-radius: 5px; padding: 0.5rem; margin-bottom: 0.5rem; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: #00ff00; font-weight: bold;">${winner}</div>
                                    <div style="color: #ccc; font-size: 0.8rem;">Classificado #${idx + 1}</div>
                                </div>
                                <button onclick="removeWinner('${gameId}', ${idx})" style="background: #ff0000; border: none; color: #fff; padding: 0.3rem; border-radius: 3px; cursor: pointer; font-size: 0.7rem;">‚ùå</button>
                            </div>`
                        ).join('');
                    }
                }
            });
        }

        function addWinner(event, gameId) {
            event.preventDefault();
            const input = event.target.querySelector('input');
            const winnerName = input.value.trim().toUpperCase();
            
            if (winnerName) {
                if (!tournamentData.winners[gameId]) {
                    tournamentData.winners[gameId] = [];
                }
                
                tournamentData.winners[gameId].push(winnerName);
                saveTournamentData();
                loadAdminData();
                input.value = '';
                
                showAdminMessage(`${winnerName} CLASSIFICADO!`, 'success');
            }
        }
        
        function generateBracket(gameId) {
            const winners = tournamentData.winners[gameId] || [];
            
            if (winners.length < 2) {
                showAdminMessage('PRECISA DE PELO MENOS 2 CLASSIFICADOS!', 'error');
                return;
            }
            
            try {
                const bracket = createBracketStructure(winners);
                
                if (!bracket) {
                    showAdminMessage('ERRO AO CRIAR ESTRUTURA DO CHAVEAMENTO!', 'error');
                    return;
                }
                
                tournamentData.brackets[gameId] = bracket;
                saveTournamentData();
                
                showAdminMessage(`üèÜ CHAVEAMENTO GERADO PARA ${winners.length} JOGADORES!`, 'success');
                
                if (currentAdminTab !== 'brackets') {
                    showAdminTab('brackets');
                }
                
                showBracketGame(gameId);
                
            } catch (error) {
                console.error('üí• ERRO DETALHADO ao gerar chaveamento:', error);
                showAdminMessage(`ERRO INTERNO: ${error.message}`, 'error');
            }
        }

        function createBracketStructure(players) {
            if (!Array.isArray(players) || players.length < 2) {
                return null;
            }
            
            try {
                const shuffledPlayers = [...players].sort(() => Math.random() - 0.5);
                
                let currentRoundPlayers = [...shuffledPlayers];
                
                let nextPowerOfTwo = 2;
                while (nextPowerOfTwo < currentRoundPlayers.length) {
                    nextPowerOfTwo *= 2;
                }
                
                while (currentRoundPlayers.length < nextPowerOfTwo) {
                    currentRoundPlayers.push('BYE');
                }
                
                const rounds = [];
                let roundNumber = 1;
                const totalRounds = Math.log2(currentRoundPlayers.length);
                
                let playersInRound = [...currentRoundPlayers];

                while (playersInRound.length > 1 || roundNumber === totalRounds + 1) {
                    const matches = [];
                    const playersForNextRound = [];

                    for (let i = 0; i < playersInRound.length; i += 2) {
                        const player1 = playersInRound[i];
                        const player2 = playersInRound[i + 1] || null;
                        
                        const match = {
                            id: `round${roundNumber}_match${Math.floor(i/2) + 1}`,
                            player1: player1,
                            player2: player2,
                            winner: (player1 === 'BYE' && player2 !== 'BYE' && player2 !== null) ? player2 : (player2 === 'BYE' && player1 !== 'BYE' && player1 !== null) ? player1 : null,
                            completed: player1 === 'BYE' || player2 === 'BYE',
                            isBye: player1 === 'BYE' || player2 === 'BYE'
                        };
                        
                        matches.push(match);
                        
                        playersForNextRound.push(match.winner || null);
                    }
                    
                    const roundName = getRoundName(roundNumber, totalRounds);
                    
                    rounds.push({
                        roundNumber: roundNumber,
                        roundName: roundName,
                        matches: matches
                    });

                    playersInRound = playersForNextRound;
                    roundNumber++;

                    if (roundName === 'FINAL') break;
                }
                
                const bracket = {
                    totalRounds: rounds.length,
                    rounds: rounds,
                    champion: null,
                    createdAt: new Date().toISOString(),
                    originalPlayers: shuffledPlayers
                };
                
                return bracket;
                
            } catch (error) {
                console.error('üí• ERRO na createBracketStructure:', error);
                return null;
            }
        }

        function getRoundName(roundNumber, totalRounds) {
            const roundsFromEnd = totalRounds - roundNumber + 1;
            
            let roundName;
            switch (roundsFromEnd) {
                case 1: 
                    roundName = 'FINAL';
                    break;
                case 2: 
                    roundName = 'SEMIFINAL';
                    break;
                case 3: 
                    roundName = 'QUARTAS DE FINAL';
                    break;
                case 4: 
                    roundName = 'OITAVAS DE FINAL';
                    break;
                default: 
                    const numMatches = Math.pow(2, roundsFromEnd - 1);
                    roundName = `RODADA DE ${numMatches * 2}`;
                    break;
            }
            
            return roundName;
        }

        function loadBracketView() {
            const gameContainers = {
                'mortal-kombat': 'mk-bracket-content',
                'bomba-patch': 'bp-bracket-content',
                'guitar-hero': 'gh-bracket-content'
            };
            
            const container = document.getElementById(gameContainers[currentBracketGame]);
            const bracket = tournamentData.brackets[currentBracketGame];
            
            if (!bracket) {
                container.innerHTML = `
                    <div class="bracket-empty">
                        <h3 style="color: #ffff00; margin-bottom: 1rem; font-family: 'Press Start 2P', monospace;">
                            NENHUM CHAVEAMENTO GERADO
                        </h3>
                        <p style="color: #ccc; margin-bottom: 2rem;">
                            Adicione os classificados na aba "GERENCIAR JOGADORES" e clique em "GERAR CHAVEAMENTO"
                        </p>
                        <button onclick="showAdminTab('players')" class="submit-btn">
                            IR PARA JOGADORES
                        </button>
                    </div>
                `;
                return;
            }
            
            let html = renderDualSidedBracket(bracket);
            
            if (bracket.champion) {
                html += `
                    <div class="champion-display">
                        <div class="champion-crown">üëë</div>
                        <h2 class="champion-title">CAMPE√ÉO</h2>
                        <div class="champion-name">${bracket.champion}</div>
                        <div class="champion-effects">
                            <div class="firework">üéÜ</div>
                            <div class="firework">üéá</div>
                            <div class="firework">‚ú®</div>
                        </div>
                    </div>
                `;
            }
            
            html += `
                <div class="bracket-controls">
                    <button onclick="resetBracket('${currentBracketGame}')" class="control-btn reset-bracket-btn">
                        üóëÔ∏è RESETAR CHAVEAMENTO
                    </button>
                    <button onclick="regenerateBracket('${currentBracketGame}')" class="control-btn regenerate-btn">
                        üîÑ GERAR NOVO CHAVEAMENTO
                    </button>
                </div>
            `;
            
            container.innerHTML = html;
        }

        function renderDualSidedBracket(bracket) {
            const totalRounds = bracket.rounds.length;
            
            if (totalRounds <= 2) {
                return renderSingleFinal(bracket);
            }
            
            const roundsToDisplay = totalRounds - 1;
            const leftSideRounds = [];
            const rightSideRounds = [];
            
            for (let i = 0; i < roundsToDisplay; i++) {
                const round = bracket.rounds[i];
                const matches = round.matches;
                
                const leftMatches = matches.filter((_, idx) => idx % 2 === 0);
                const rightMatches = matches.filter((_, idx) => idx % 2 !== 0);
                
                if (leftMatches.length > 0) {
                    leftSideRounds.push({ ...round, matches: leftMatches, side: 'left' });
                }
                
                if (rightMatches.length > 0) {
                    rightSideRounds.push({ ...round, matches: rightMatches, side: 'right' });
                }
            }
            
            let html = '<div class="dual-sided-bracket">';
            
            html += '<div class="bracket-side left-side">';
            html += '<div class="side-header"><h3 class="side-title">CHAVE SUPERIOR</h3></div>';
            html += renderBracketSide(leftSideRounds, 'left');
            html += '</div>';
            
            const finalRound = bracket.rounds[totalRounds - 1];
            html += '<div class="bracket-center">';
            if (finalRound && finalRound.matches.length > 0) {
                html += renderFinalMatch(finalRound.matches[0], totalRounds - 1, 0);
            }
            html += '</div>';
            
            html += '<div class="bracket-side right-side">';
            html += '<div class="side-header"><h3 class="side-title">CHAVE INFERIOR</h3></div>';
            html += renderBracketSide(rightSideRounds, 'right');
            html += '</div>';
            
            html += '</div>';
            
            return html;
        }

        function renderSingleFinal(bracket) {
            const finalRoundIndex = bracket.rounds.length - 1;
            const finalMatch = bracket.rounds[finalRoundIndex].matches[0];
            
            let roundsHTML = '';
            
            bracket.rounds.forEach((round, roundIndex) => {
                if (round.roundName !== 'FINAL') {
                    roundsHTML += `<h4 class="round-title-side">${round.roundName}</h4>`;
                    roundsHTML += '<div class="side-matches" style="gap: 1rem; margin-bottom: 2rem;">';
                    round.matches.forEach((match, matchIndex) => {
                           roundsHTML += renderSideMatch(match, roundIndex, matchIndex, 'center', true);
                    });
                    roundsHTML += '</div>';
                }
            });

            roundsHTML += renderFinalMatch(finalMatch, finalRoundIndex, 0);

            return `
                <div class="single-final-container" style="max-width: 800px; margin: 0 auto;">
                    <div class="final-header">
                        <h3 class="round-title-organized">CHAVE √öNICA</h3>
                    </div>
                    ${roundsHTML}
                </div>
            `;
        }


        function renderBracketSide(rounds, side) {
            let html = '<div class="side-rounds">';
            
            rounds.forEach((round, roundIndex) => {
                html += `
                    <div class="side-round">
                        <div class="round-header">
                            <h4 class="round-title-side">${round.roundName}</h4>
                        </div>
                        <div class="side-matches">
                `;
                
                round.matches.forEach((match, matchIndex) => {
                    html += renderSideMatch(match, round.roundNumber - 1, matchIndex, side);
                });
                
                html += '</div></div>';
            });
            
            html += '</div>';
            return html;
        }

        function renderSideMatch(match, roundIndex, matchIndex, side, isSingleFinal = false) {
            const isCompleted = match.completed;
            const matchClass = isCompleted ? 'side-match completed' : 'side-match';
            const matchStyle = isSingleFinal ? 'min-width: 100%; max-width: 100%;' : '';
            
            const player1Name = match.player1 || 'AGUARDANDO';
            const player2Name = match.player2 || 'AGUARDANDO';
            
            const clickHandler1 = (match.player1 === 'BYE' || match.isBye || match.player1 === null) ? '' : `onclick="selectWinner('${currentBracketGame}', ${roundIndex}, ${matchIndex}, '${match.player1}')"`;
            const clickHandler2 = (match.player2 === 'BYE' || match.isBye || match.player2 === null) ? '' : `onclick="selectWinner('${currentBracketGame}', ${roundIndex}, ${matchIndex}, '${match.player2}')"`;

            const player1Class = match.winner === match.player1 ? 'winner' : (match.winner !== null && match.winner !== match.player1 ? 'loser' : '');
            const player2Class = match.winner === match.player2 ? 'winner' : (match.winner !== null && match.winner !== match.player2 ? 'loser' : '');
            
            return `
                <div class="${matchClass}" id="${match.id}" style="${matchStyle}">
                    <div class="side-match-content">
                        <div class="side-player ${player1Class}" ${clickHandler1}>
                            <span class="side-player-name">${player1Name}</span>
                            ${match.winner === match.player1 ? '<span class="crown">üëë</span>' : ''}
                        </div>
                        
                        <div class="side-vs">${match.isBye ? 'BYE' : 'VS'}</div>
                        
                        <div class="side-player ${player2Class}" ${clickHandler2}>
                            <span class="side-player-name">${player2Name}</span>
                            ${match.winner === match.player2 ? '<span class="crown">üëë</span>' : ''}
                        </div>
                    </div>
                    
                    ${isCompleted ? `
                        <div class="side-match-controls">
                            <button onclick="resetMatch('${currentBracketGame}', ${roundIndex}, ${matchIndex})" class="reset-btn-tiny">
                                üîÑ
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderFinalMatch(match, roundIndex, matchIndex) {
            const isCompleted = match.completed;
            const matchClass = isCompleted ? 'final-match completed' : 'final-match';
            
            const player1Name = match.player1 || 'AGUARDANDO CAMPE√ÉO';
            const player2Name = match.player2 || 'AGUARDANDO CAMPE√ÉO';
            
            const player1Class = match.winner === match.player1 ? 'winner' : (match.winner !== null && match.winner !== match.player1 ? 'loser' : '');
            const player2Class = match.winner === match.player2 ? 'winner' : (match.winner !== null && match.winner !== match.player2 ? 'loser' : '');

            const clickHandler1 = (match.player1 === null) ? '' : `onclick="selectWinner('${currentBracketGame}', ${roundIndex}, ${matchIndex}, '${match.player1}')"`;
            const clickHandler2 = (match.player2 === null) ? '' : `onclick="selectWinner('${currentBracketGame}', ${roundIndex}, ${matchIndex}, '${match.player2}')"`;
            
            return `
                <div class="${matchClass}" id="${match.id}">
                    <div class="final-header-match">
                        <h3 class="final-title">üèÜ FINAL üèÜ</h3>
                    </div>
                    
                    <div class="final-match-content">
                        <div class="final-player ${player1Class}" ${clickHandler1}>
                            <span class="final-player-name">${player1Name}</span>
                            ${match.winner === match.player1 ? '<span class="crown">üëë</span>' : ''}
                        </div>
                        
                        <div class="final-vs">VS</div>
                        
                        <div class="final-player ${player2Class}" ${clickHandler2}>
                            <span class="final-player-name">${player2Name}</span>
                            ${match.winner === match.player2 ? '<span class="crown">üëë</span>' : ''}
                        </div>
                    </div>
                    
                    ${isCompleted ? `
                        <div class="final-match-controls">
                            <button onclick="resetMatch('${currentBracketGame}', ${roundIndex}, ${matchIndex})" class="reset-btn-small">
                                üîÑ RESETAR FINAL
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function selectWinner(gameId, roundIndex, matchIndex, winner) {
            const bracket = tournamentData.brackets[gameId];
            const match = bracket.rounds[roundIndex].matches[matchIndex];
            
            if (match.player1 === null || match.player2 === null || winner === 'AGUARDANDO') {
                showAdminMessage('JOGADOR INV√ÅLIDO OU PARTIDA INCOMPLETA!', 'error');
                return;
            }

            if (match.completed) {
                if (match.winner === winner) {
                    return;
                }
                resetMatchLogic(gameId, roundIndex, matchIndex);
            }
            
            match.winner = winner;
            match.completed = true;
            
            const nextRoundIndex = roundIndex + 1;
            if (nextRoundIndex < bracket.rounds.length) {
                const nextMatchIndex = Math.floor(matchIndex / 2);
                const nextMatch = bracket.rounds[nextRoundIndex].matches[nextMatchIndex];
                
                if (matchIndex % 2 === 0) {
                    nextMatch.player1 = winner;
                } else {
                    nextMatch.player2 = winner;
                }
                
                if (nextMatch.isBye) {
                    const isNextPlayer1Bye = nextMatch.player1 === 'BYE';
                    const isNextPlayer2Bye = nextMatch.player2 === 'BYE';

                    if (isNextPlayer1Bye && nextMatch.player2 !== null && nextMatch.player2 !== 'BYE') {
                        nextMatch.winner = nextMatch.player2;
                        nextMatch.completed = true;
                    } else if (isNextPlayer2Bye && nextMatch.player1 !== null && nextMatch.player1 !== 'BYE') {
                        nextMatch.winner = nextMatch.player1;
                        nextMatch.completed = true;
                    }
                    
                    if (nextMatch.completed) {
                        showAdminMessage(`BYE AUTOM√ÅTICO: ${nextMatch.winner} AVAN√áA!`, 'success');
                        selectWinner(gameId, nextRoundIndex, nextMatchIndex, nextMatch.winner);
                        return;
                    }
                }

            } else {
                bracket.champion = winner;
                playChampionSound();
                showAdminMessage(`üèÜ ${winner} √â O CAMPE√ÉO! üèÜ`, 'success');
            }
            
            saveTournamentData();
            loadBracketView();
            
            showAdminMessage(`${winner} VENCEU A PARTIDA!`, 'success');
        }
        
        function resetMatchLogic(gameId, roundIndex, matchIndex) {
            const bracket = tournamentData.brackets[gameId];
            const match = bracket.rounds[roundIndex].matches[matchIndex];
            
            match.winner = null;
            match.completed = match.isBye;

            if (match.isBye) {
                match.winner = match.player1 === 'BYE' ? match.player2 : match.player1;
            }
            
            for (let r = roundIndex + 1; r < bracket.rounds.length; r++) {
                 const round = bracket.rounds[r];
                 for (let m = 0; m < round.matches.length; m++) {
                    const currentMatchIndex = m;
                    
                    let targetIndexInNextRound = Math.floor(matchIndex / 2);
                    
                    if (r === roundIndex + 1 && currentMatchIndex === targetIndexInNextRound) {
                        if (matchIndex % 2 === 0) {
                            round.matches[m].player1 = round.matches[m].player1 === 'BYE' ? 'BYE' : null;
                        } else {
                            round.matches[m].player2 = round.matches[m].player2 === 'BYE' ? 'BYE' : null;
                        }
                        
                        if (!round.matches[m].isBye) {
                            round.matches[m].winner = null;
                            round.matches[m].completed = false;
                        }
                        
                        if (!round.matches[m].isBye && (round.matches[m].player1 === null || round.matches[m].player2 === null)) {
                            round.matches[m].winner = null;
                            round.matches[m].completed = false;
                        }
                        
                        if (round.roundName === 'FINAL') {
                            round.matches[m].winner = null;
                            round.matches[m].completed = false;
                        }
                        
                    } else if (r > roundIndex + 1) {
                        round.matches[m].player1 = round.matches[m].player1 === 'BYE' ? 'BYE' : null;
                        round.matches[m].player2 = round.matches[m].player2 === 'BYE' ? 'BYE' : null;
                        round.matches[m].winner = round.matches[m].isBye ? (round.matches[m].player1 === 'BYE' ? round.matches[m].player2 : round.matches[m].player1) : null;
                        round.matches[m].completed = round.matches[m].isBye;

                        if (!round.matches[m].isBye && (round.matches[m].player1 === null || round.matches[m].player2 === null)) {
                             round.matches[m].completed = false;
                        }
                    }
                    
                    
                 }
            }
            
            bracket.champion = null;
        }

        function resetMatch(gameId, roundIndex, matchIndex) {
            resetMatchLogic(gameId, roundIndex, matchIndex);
            
            saveTournamentData();
            loadBracketView();
            
            showAdminMessage('PARTIDA RESETADA!', 'error');
        }


        function resetBracket(gameId) {
            const overlay = document.createElement('div');
            overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 10001;';
            
            const confirmBox = document.createElement('div');
            confirmBox.style.cssText = 'background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff0000; border-radius: 20px; padding: 3rem; text-align: center; max-width: 500px;';
            
            confirmBox.innerHTML = `
                <h3 style="font-family: 'Press Start 2P', monospace; color: #ff0000; margin-bottom: 2rem; font-size: 1.2rem;">
                    ‚ö†Ô∏è RESETAR CHAVEAMENTO
                </h3>
                <p style="color: #fff; margin-bottom: 2rem; line-height: 1.5;">
                    Tem certeza que deseja resetar todo o chaveamento? Todos os resultados ser√£o perdidos!
                </p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="confirmResetBracket('${gameId}')" class="submit-btn" style="background: linear-gradient(45deg, #ff0000, #aa0000);">
                        SIM, RESETAR
                    </button>
                    <button onclick="cancelResetBracket()" class="submit-btn" style="background: linear-gradient(45deg, #666, #333);">
                        CANCELAR
                    </button>
                </div>
            `;
            
            overlay.appendChild(confirmBox);
            document.body.appendChild(overlay);
            window.resetOverlay = overlay;
        }

        function confirmResetBracket(gameId) {
            tournamentData.brackets[gameId] = null;
            saveTournamentData();
            loadBracketView();
            
            document.body.removeChild(window.resetOverlay);
            showAdminMessage('CHAVEAMENTO RESETADO!', 'error');
            showAdminTab('players');
        }

        function cancelResetBracket() {
            document.body.removeChild(window.resetOverlay);
        }

        function regenerateBracket(gameId) {
            const winners = tournamentData.winners[gameId] || [];
            
            if (winners.length < 2) {
                showAdminMessage('PRECISA DE PELO MENOS 2 CLASSIFICADOS!', 'error');
                return;
            }
            
            const bracket = createBracketStructure(winners);
            tournamentData.brackets[gameId] = bracket;
            saveTournamentData();
            loadBracketView();
            
            showAdminMessage('NOVO CHAVEAMENTO GERADO!', 'success');
        }

        function removeWinner(gameId, index) {
            const winnerName = tournamentData.winners[gameId][index];
            tournamentData.winners[gameId].splice(index, 1);
            
            tournamentData.brackets[gameId] = null;

            saveTournamentData();
            loadAdminData();
            
            showAdminMessage(`${winnerName} REMOVIDO! CHAVEAMENTO RESETADO!`, 'error');
        }

        function clearAllWinners() {
            const overlay = document.createElement('div');
            overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 10001;';
            
            const confirmBox = document.createElement('div');
            confirmBox.style.cssText = 'background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff0000; border-radius: 20px; padding: 3rem; text-align: center; max-width: 500px;';
            
            confirmBox.innerHTML = `
                <h3 style="font-family: 'Press Start 2P', monospace; color: #ff0000; margin-bottom: 2rem; font-size: 1.2rem;">
                    ‚ö†Ô∏è CONFIRMAR A√á√ÉO
                </h3>
                <p style="color: #fff; margin-bottom: 2rem; line-height: 1.5;">
                    Tem certeza que deseja limpar TODOS os classificados e TODOS os chaveamentos?
                </p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="confirmClearWinners()" class="submit-btn" style="background: linear-gradient(45deg, #ff0000, #aa0000);">
                        SIM, LIMPAR TUDO
                    </button>
                    <button onclick="cancelClearWinners()" class="submit-btn" style="background: linear-gradient(45deg, #666, #333);">
                        CANCELAR
                    </button>
                </div>
            `;
            
            overlay.appendChild(confirmBox);
            document.body.appendChild(overlay);
            window.confirmOverlay = overlay;
        }

        function confirmClearWinners() {
            tournamentData.winners = {
                'mortal-kombat': [],
                'bomba-patch': [],
                'guitar-hero': []
            };
             tournamentData.brackets = {
                'mortal-kombat': null,
                'bomba-patch': null,
                'guitar-hero': null
            };
            saveTournamentData();
            loadAdminData();
            
            document.body.removeChild(window.confirmOverlay);
            showAdminMessage('TODOS OS DADOS DE CHAVEAMENTO FORAM LIMPOS!', 'error');
             if (currentAdminTab === 'brackets') {
                 showBracketGame(currentBracketGame);
             }
        }

        function cancelClearWinners() {
            document.body.removeChild(window.confirmOverlay);
        }

        function exportData() {
            const data = {
                timestamp: new Date().toLocaleString('pt-BR'),
                tournament: 'TORNEIO RETRO A.A.A. XVII',
                players: tournamentData.players,
                winners: tournamentData.winners,
                brackets: tournamentData.brackets,
                totalPlayers: Object.values(tournamentData.players).reduce((sum, players) => sum + players.length, 0),
                totalWinners: Object.values(tournamentData.winners).reduce((sum, winners) => sum + winners.length, 0)
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `torneio_aaa_xvii_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            URL.revokeObjectURL(url);
            showAdminMessage('DADOS EXPORTADOS!', 'success');
        }

        function showPasswordManager() {
            const overlay = document.createElement('div');
            overlay.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: flex; justify-content: center; align-items: center; z-index: 10001;';
            
            const managerBox = document.createElement('div');
            managerBox.style.cssText = 'background: linear-gradient(135deg, #2a0845, #4a0e6b); border: 3px solid #ff00ff; border-radius: 20px; padding: 3rem; text-align: center; max-width: 600px; width: 90%;';
            
            let optionsHTML = '';
            Object.entries(passwordImages).forEach(([image, name]) => {
                const isSelected = image === currentPasswordImage ? 'selected' : '';
                optionsHTML += `
                    <div class="password-option ${isSelected}" onclick="changePasswordImageManager('${image}', '${name}')" data-image="${image}" style="display: inline-block; margin: 0.5rem; cursor: pointer;">
                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">${image}</div>
                        <div style="font-size: 0.8rem; font-family: 'Press Start 2P', monospace;">${name}</div>
                    </div>
                `;
            });
            
            managerBox.innerHTML = `
                <h3 style="font-family: 'Press Start 2P', monospace; color: #ff00ff; margin-bottom: 2rem; font-size: 1.2rem;">
                    üîê GERENCIAR SENHA VISUAL
                </h3>
                
                <div style="margin-bottom: 2rem;">
                    <div style="color: #ffff00; margin-bottom: 1rem; font-size: 1rem;">SENHA ATUAL:</div>
                    <div style="background: rgba(0,0,0,0.3); border: 2px solid #ffff00; border-radius: 15px; padding: 1rem; display: inline-block;">
                        <div style="font-size: 4rem; margin-bottom: 0.5rem;" id="currentPasswordPreview">${currentPasswordImage}</div>
                        <div style="color: #ffff00; font-family: 'Press Start 2P', monospace; font-size: 0.9rem;" id="currentPasswordNamePreview">${currentPasswordName}</div>
                    </div>
                </div>
                
                <div style="margin-bottom: 2rem;">
                    <div style="color: #ff00ff; margin-bottom: 1rem; font-size: 1rem;">ESCOLHER NOVA SENHA:</div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                        ${optionsHTML}
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="saveNewPasswordManager()" class="submit-btn" style="background: linear-gradient(45deg, #00ff00, #006600);">
                        üíæ SALVAR SENHA
                    </button>
                    <button onclick="closePasswordManager()" class="submit-btn" style="background: linear-gradient(45deg, #666, #333);">
                        ‚ùå CANCELAR
                    </button>
                </div>
            `;
            
            overlay.appendChild(managerBox);
            document.body.appendChild(overlay);
            window.passwordManagerOverlay = overlay;
            
            window.tempPasswordImage = currentPasswordImage;
            window.tempPasswordName = currentPasswordName;
        }
        
        function changePasswordImageManager(image, name) {
            document.getElementById('currentPasswordPreview').textContent = image;
            document.getElementById('currentPasswordNamePreview').textContent = name;
            
            const managerOptions = window.passwordManagerOverlay.querySelectorAll('.password-option');
            managerOptions.forEach(option => {
                option.classList.remove('selected');
            });
            
            const selectedOption = window.passwordManagerOverlay.querySelector(`[data-image="${image}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
            }
            
            window.tempPasswordImage = image;
            window.tempPasswordName = name;
        }
        
        function saveNewPasswordManager() {
            const newImage = window.tempPasswordImage;
            const newName = window.tempPasswordName;
            
            if (newImage && newName) {
                currentPasswordImage = newImage;
                currentPasswordName = newName;
                savePasswordImage();
                
                showAdminMessage(`SENHA ALTERADA PARA: ${currentPasswordName}`, 'success');
                closePasswordManager();
            } else {
                showAdminMessage('ERRO AO SALVAR SENHA!', 'error');
            }
        }
        
        function closePasswordManager() {
            if (window.passwordManagerOverlay) {
                document.body.removeChild(window.passwordManagerOverlay);
                window.passwordManagerOverlay = null;
                window.tempPasswordImage = null;
                window.tempPasswordName = null;
            }
        }

        function closeAdmin() {
            isAdminLoggedIn = false;
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('adminLogin').style.display = 'block';
            document.getElementById('adminPassword').value = '';
            document.getElementById('admin').style.display = 'none';
        }

        function showAdminMessage(message, type) {
            const msg = document.createElement('div');
            const bgColor = type === 'success' ? 'linear-gradient(45deg, #00ff00, #006600)' : 'linear-gradient(45deg, #ff0000, #aa0000)';
            
            msg.style.cssText = `position: fixed; top: 20px; right: 20px; background: ${bgColor}; color: #fff; padding: 1rem; border-radius: 10px; font-family: "Press Start 2P", monospace; font-size: 0.8rem; z-index: 10000; max-width: 300px;`;
            msg.textContent = message;
            document.body.appendChild(msg);
            
            setTimeout(() => {
                if (document.body.contains(msg)) {
                    document.body.removeChild(msg);
                }
            }, 3000);
        }

        window.addEventListener('load', function() {
            loadTournamentData();
            loadPasswordImage();
            injectTestData();
            updateAllBrackets();
        });

        setInterval(() => {
            const elements = document.querySelectorAll('.game-title, .hero-title');
            const randomElement = elements[Math.floor(Math.random() * elements.length)];
            randomElement.style.animation = 'glitch 0.3s';
            setTimeout(() => {
                randomElement.style.animation = '';
            }, 300);
        }, 5000);

        setInterval(() => {
            const lightning = document.querySelectorAll('.lightning');
            lightning.forEach(bolt => {
                bolt.style.animationDelay = Math.random() * 2 + 's';
            });
        }, 3000);

        function playChampionSound() {
            try {
                 if (navigator.vibrate) {
                    navigator.vibrate([200, 100, 200, 100, 200, 100, 400]);
                 }
            } catch (error) {
                console.log('Audio/Vibration not supported');
            }
        }
    </script>
 </body>
</html>